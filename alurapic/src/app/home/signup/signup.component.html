<h4 class="text-center">Register to embrace a new world</h4>

<form #form="ngForm" [formGroup]="signupForm" class="form mt-4" (submit)="signup()">
    <div class="form-group">
        <input #inputNomeCompleto formControlName="nomeCompleto" class="form-control" type="text" placeholder="full name">
        <app-vmessage *ngIf="(form.submitted || signupForm.get('nomeCompleto')?.touched) && signupForm.get('nomeCompleto')?.hasError('required')" textMessage="Full name is required!"></app-vmessage>
        <app-vmessage *ngIf="(form.submitted || signupForm.get('nomeCompleto')?.touched) && signupForm.get('nomeCompleto')?.hasError('minlength')" textMessage="Full name must have from 3 to 40 characters!"></app-vmessage>
        <app-vmessage *ngIf="(form.submitted || signupForm.get('nomeCompleto')?.touched) && signupForm.get('nomeCompleto')?.hasError('maxlength')" textMessage="Full name must have from 3 to 40 characters!"></app-vmessage>
        <app-vmessage *ngIf="(form.submitted || signupForm.get('nomeCompleto')?.touched) && signupForm.get('nomeCompleto')?.hasError('usernametaken')" textMessage="Full name alredy in use by another user!"></app-vmessage>
        <app-vmessage *ngIf="signupForm.get('nomeCompleto')?.valid" severity="success" textMessage="Full name is valid!"></app-vmessage>
    </div>

    <div class="form-group">
        <input formControlName="email" class="form-control" type="email" placeholder="email" autofocus>
        <app-vmessage *ngIf="(form.submitted || signupForm.get('email')?.touched) && signupForm.get('email')?.hasError('required')" textMessage="Email is required!"></app-vmessage>
        <app-vmessage *ngIf="(form.submitted || signupForm.get('email')?.touched) && signupForm.get('email')?.hasError('email')" textMessage="Email is invalid!"></app-vmessage>
    </div>   
    
    <div class="form-group">
        <input formControlName="senha" class="form-control" type="password" placeholder="password">
        <app-vmessage *ngIf="(form.submitted || signupForm.get('senha')?.touched) && signupForm.get('senha')?.hasError('required')" textMessage="Password is required!"></app-vmessage>
        <app-vmessage *ngIf="(form.submitted || signupForm.get('senha')?.touched) && signupForm.get('senha')?.hasError('minlength')" textMessage="Password must have from 3 to 14 characters!"></app-vmessage>
        <app-vmessage *ngIf="(form.submitted || signupForm.get('senha')?.touched) && signupForm.get('senha')?.hasError('maxlength')" textMessage="Password must have from 3 to 14 characters!"></app-vmessage>
        <app-vmessage *ngIf="signupForm.hasError('userNamePassword')" textMessage="Full name and password must be different!"></app-vmessage>
    </div>

    <div class="form-group">
        <input formControlName="role" class="form-control" type="text" placeholder="role">
        <app-vmessage *ngIf="(form.submitted || signupForm.get('role')?.touched) && signupForm.get('role')?.hasError('required')" textMessage="Role is required!"></app-vmessage>
        <app-vmessage *ngIf="(form.submitted || signupForm.get('role')?.touched) && signupForm.get('role')?.hasError('minlength')" textMessage="Role must have from 2 to 30 characters!"></app-vmessage>
        <app-vmessage *ngIf="(form.submitted || signupForm.get('role')?.touched) && signupForm.get('role')?.hasError('maxlength')" textMessage="Role must have from 2 to 30 characters!"></app-vmessage>
        <app-vmessage *ngIf="(form.submitted || signupForm.get('role')?.touched) && signupForm.get('role')?.hasError('lowerCase')" textMessage="Role must start with lower case!"></app-vmessage>
    </div>   

    <button type="submit" class="btn btn-primary btn-block">Register</button>

    <p>Alredy a user?<a [routerLink]="['']">Sign In!</a></p>
</form>